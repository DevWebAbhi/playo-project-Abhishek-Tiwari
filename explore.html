<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./styles/explore.css">
    <link rel="stylesheet" href="./styles/popup.css">
    <link rel="stylesheet" href="./styles/activity.css">
    <link rel="stylesheet" href="./styles/footer.css">
  </head>
 
  <body>
    <div id="main">
      
      <!-- Navbar start -->
      <div id="explorenavbar" style="height: 50px; margin-bottom: 35px;">
        
        <div id="logodiv" >
          <a href="index.html">
            <img id="logo" src="https://playo-website.imgix.net/company/logo1.png?auto=compress,format" alt="playo logo" style="margin-top: 7px;">
          </a>
         
        </div>
        <div id="nav2div" style="display: flex;"> 
          <img id="pplogo" src="data:image/jpeg;base64,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" alt="">
          <p id="myBtn" class="loginp">Login/Signup</p>
          <img id="dropdownarrow" src="https://playo-website.gumlet.net/playo_functional/Icons/arrow_light.svg" alt="arrow">
      </div>
    
      </div>
      <!-- Navbar End -->


      <div id="filter">
        <div id="locationfilter">
          <img src="https://playov2.gumlet.net//explore/Group+3539%402x.png" alt="" class="icon" />
          <div class="align">
            <P class="filtertext">Location</P>
            
            <span id="place"></span>
          </div>
          <div id="searchicon">
            <img src="https://playov2.gumlet.net//explore/location_search@2x.png" alt="" class="icon2" />
               <P style="transform: translateY(15px);" id="detect">Detect</P>
          </div>
        </div>
        <div id="searchfilter">
          <img src="https://playov2.gumlet.net//explore/search-24px@2x.png" alt="" class="icon">
          <div class="align">
            <p class="filtertext">Search</p>
            <input type="text" placeholder="Search for sport"><button>Search</button>

          </div>
        </div>
        <div id="sportsfilter">
          <img src="https://playov2.gumlet.net//explore/Group+18%402x.png" alt="" class="icon" >
          <div class="align">
            <p class="filtertext">Sport</p>
            <select  class="boldspace">
              <option value="Select Sports">Select Sports</option>
              </select>
             </div>
          
        </div>
        <div id="catfilter">
          <img src="https://playov2.gumlet.net//explore/menu_vs_outlined@2x.png" alt="" class="icon">
          <div class="align">
            <p class="filtertext">Categories</p>
            <select class="bold space1" id="boldspace1">
              <option value="SelectSports">All</option>
              <option value="cricket">Cricket</option>
              <option value="badminton">Badminton</option>
              <option value="bowling">Bowling</option>
              <option value="swimming">Swimming</option>
              <option value="football">Football</option>
              </select>
          </div>
        </div>
      </div>
    <!--  <div id="con"></div>
      <div id= "places">

-->
        <div id="all-sports"></div>
 


     <!--  <div>
          <img src="https://playo-activities.gumlet.io/SVMBOWLINGALLEY/SVMBowlingAlleycover.jpg?q=40" alt="" class="conimage">
          <p class="imgtext">Book</p>
        </div>
        <p class="highlighttext">shiva</p>
        <p class="location">hyd</p>
        <p class="timing"><img src="./images/clock.png" alt="" class="clockicon">ljljl</p>
        <p class="coaching">lsjdfljsd</p>
      </div> --> 
      <!--
     <div id="infooter">
        <div id="div1">
            <div id="weblogo">
                <a href="index.html"><img src="https://playo-website.gumlet.net/logo/playo-logo-footer-website.png?auto=format,compress&h=100" alt="logo" width="100%" height="100%"></a>
            </div>
            <div id="playstore">
                <a href="https://play.google.com/store/apps/details?id=com.techmash.playo">
                    <img src="https://playo-website.gumlet.net/icons/download-android.png?auto=format,compress " >
                </a>
                <a href="https://apps.apple.com/us/app/playo-local-sports-community/id1018786950?ls=1">
                    <img src="https://playo-website.gumlet.net/icons/download-ios.png?auto=format,compress" >
                </a>
            </div>
            <div id="copyright">
                <p>Â©2022 TechMash Solutions Private Limited.<span> All Rights Reserved.</span></p>
            </div>
            <div id="loweritems">
                <a href="faq.html"><p>FAQs</p></a>
                <a href=""><p>Privacy POlicy</p></a>
                <a href=""><p>Terms Of Service</p></a>
                <a href=""><p>Cancellation & Refund Policy</p></a>
                <a href=""><p>Careers</p></a>
                <a href=""><p id="hiring">We're Hiring!</p></a>
            </div>
        </div>
        <div id="div2">
            <a href="about.html"><p>About Us</p></a>
            <a href="partner.html"><p>Partner With Us</p></a>
            <a href="brandact.html"><p>Brand Activations</p></a>
            <a href="corporate.html"><p>Corporate Offerings</p></a>
            <a href="contact.html"><p>contact Us</p></a>
        </div>
        <div id="div3">
            <a href="venues.html"><p>Book Venues</p></a>
            <a href="activities.html"><p>Activities</p></a>
            <a href="blog.html"><p>Blog</p></a>
            <a href="faq.html"><p>FAQ's</p></a>
        </div>
        <div id="div4">
            <a href="https://www.facebook.com/PlayoApp/"><p>Facebook</p></a>
            <a href="https://twitter.com/playoApp"><p>Twitter</p></a>
            <a href="https://www.instagram.com/playoapp/"><p>Instagram</p></a>
            <a href="https://www.linkedin.com/company/playo"><p>LinkdIn</p></a>
        </div>
    </div>
    </div>
    -->
    <div id="footer"></div>
  </body>
</html>
<script type="module">
  import navbar from "./components/navbar.js"
  import footer from "./components/footer.js"

  let container = document.querySelector("#footer");
  container.innerHTML = footer();

  let navbar_container = document.getElementById("navbar_container");
  navbar_container.innerHTML = navbar();

</script>
<script type="module">
	import getpopup from "./components/popup.js"
	import footer from "./components/footer.js"
  import sportsAcademies from "./components/data.js";
	
	

	let container = document.querySelector("#footer");
	//container.innerHTML = footer();
const city=localStorage.getItem("city");
const sport=sportsAcademies;
document.getElementById('boldspace1').addEventListener('change',function(){
  let val=document.getElementById('boldspace1').value;
  if(val=="SelectSports"){
    displayMain();
  }else{
    display(val);
  }
  
    });
    displayMain();
function displayMain(){
  document.getElementById("all-sports").innerHTML=null;
  sport.forEach((ele)=>{
  const ccity=ele.city.substring(0,city.length);
  console.log(ccity.toLowerCase(), city);
    if(ele.city.toLowerCase().substring(0,city.length) == city.substring(0,ccity.length).toLowerCase()){
     if(ele.image!=undefined && ele.image!=null){
      const div = document.createElement("div");
      div.id="block-sport";
      const img=document.createElement("img");
      img.src=ele.image;
      //img.style.height="350px";
      //img.style.width="400px";
      const name=document.createElement("h2");
      name.innerText=ele.name;
      const location=document.createElement("h4");
      location.innerText=ele.location
      div.style.padding="2px";
      div.addEventListener("click",()=>{
        console.log("hello");
        window.location.href="./venueDetail.html";
      })
      div.append(img,name,location);
     
      document.getElementById("all-sports").append(div);
     }
     
    }
});
}

document.querySelector("#searchicon>p").innerText=city;

function display(val){
  document.getElementById("all-sports").innerHTML=null;
  sport.forEach((ele)=>{
  const ccity=ele.city.substring(0,city.length);
  console.log(ccity.toLowerCase(), city);
    if(ele.city.toLowerCase().substring(0,city.length) == city.substring(0,ccity.length).toLowerCase() && ele.sport==val){
     if(ele.image!=undefined && ele.image!=null){
      const div = document.createElement("div");
      div.id="block-sport";
      const img=document.createElement("img");
      img.src=ele.image;
      //img.style.height="350px";
      //img.style.width="400px";
      const name=document.createElement("h2");
      name.innerText=ele.name;
      const location=document.createElement("h4");
      location.innerText=ele.location
      div.style.padding="2px";
      div.addEventListener("click",()=>{
        console.log("hello");
        window.location.href="./venueDetail.html";
      })
      div.append(img,name,location);
     
     
      document.getElementById("all-sports").append(div);
     }
     
    }
});
}




</script>
<script>


</script>
<script  >
  

  for (let x in data) {
    var cityx = data[x];
  }
  console.log(cityx);

  let con = document.getElementById("con");

  async function add(url) {
    try {
      var url = `http://127.0.0.1:5000/playo/cities`;
      let response = await fetch(url, {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
        },
      });
      let d = await response.json();
      console.log("d:", d);
      display(d);
    } catch (err) {
      console.log("err:", err);
    }
  }


  display = (e) => {
    //  console.log('e:', e)
    e.forEach((el) => {
      for (x in data) {
        var c = data[x];
      }

        var div = document.getElementById("places");
        // div.setAttribute("id","places")
        var location= document.createElement("p");
        location.innerText= el.location
        let img= document.createElement("img")
        img.src= el.image
        img.setAttribute("id","conimage")

        let timing= document.createElement("p")
        timing.innerText=el.timing

      // console.log(el.timing)

        var name = document.createElement("p");
        name.innerText=el.name

        Book= "BOOKABLE",
        safe= "Safe & Hygiene"

      if (el.city === c) {
        let y = `  <div onclick="details(${el.id})" id= "places">
        <div>
          <img src="${el.image}" alt="" class="conimage">
          <p class="imgtext">Coaching</p>
        </div>
        <p class="highlighttext">${el.name}</p>
        <p class="location">${el.location}</p>
        <p class="timing"><img src="./images/clock.png" alt="" class="clockicon">${el.timing}</p>
        <p class="coaching">${el.name}  Coaching</p>
      </div>`;

        let place = document.getElementById("place");
        place.setAttribute("class", "bold");
        place.innerHTML = el.city;
        con.innerHTML += y;
      } else {
        console.log("err");
      }
    });
  };


  add();
 









//Filtering array of objects from the data base start (With Debouncing Feature)

//=======================================================================>

    //Selectiong Html Content

   


    let my_value = JSON.parse(localStorage.getItem("name"));
    console.log(my_value.city)

    searchLocation();
    //Search Function Code 
    async function searchLocation(){
        //Getting the value again
        var search_value = my_value.city;


       

        let response = await fetch("./database/activityData.json");
        let data = await response.json();
        //console.log(data);

        //Writing Function for filter data based on search results

        let filterData = data.filter((el)=>{
            let regex = new RegExp(`^${search_value}`, "gi" );
            return el.city.match(regex);
        })

        console.log(filterData);
       apprndData(filterData)
    }


  //===========================================================================>




   //Append Data Function 
   function apprndData(data){
    // console.log(data)
    data.map((el)=>{
      let y = `  <div onclick="details(${el.id})" id= "places" class="clickdiv">
        <div>
          <img src="${el.image}" alt="" class="conimage">
          <p class="imgtext">Coaching</p>
        </div>
        <p class="highlighttext">${el.name}</p>
        <p class="location">${el.location}</p>
        <p class="timing"><img src="./images/clock.png" alt="" class="clockicon">${el.timing}</p>
        <p class="coaching">${el.name}  Coaching</p>
      </div>`;

        let place = document.getElementById("place");
        place.setAttribute("class", "bold");
        place.innerHTML = el.city;
        con.innerHTML += y;

        

    })
  

   }


   function details(x) {
    console.log("id:", x);
    let data = {
      id: x,
    };

    let location = localStorage.setItem("id", JSON.stringify(data));
    window.location.href = "detail.html";
  }
   



   








//Filtering array of objects from the data base End (With Debouncing Feature)








</script>